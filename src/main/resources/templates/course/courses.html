<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Courses - Course Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" th:href="@{/css/courses.css}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- JavaScript -->
    <script th:src="@{/js/main.js}" defer></script>
    <script th:src="@{/js/search.js}" defer></script>
    <script th:src="@{/js/filters.js}" defer></script>
    <script th:src="@{/js/custom-select.js}" defer></script>
</head>
<body>
<div class="dark-container dark-courses-container">
    <!-- Анимированный фон -->
    <div class="animated-background">
        <div class="floating-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
            <div class="shape shape-4"></div>
        </div>
    </div>

    <!-- Навигация -->
    <nav class="dark-navbar">
        <div class="dark-navbar-container">
            <a class="dark-navbar-brand" href="/courses/">
                <div class="logo-icon">
                    <svg width="28" height="28" viewBox="0 0 32 32" fill="none">
                        <path d="M16 0C7.163 0 0 7.163 0 16C0 24.837 7.163 32 16 32C24.837 32 32 24.837 32 16C32 7.163 24.837 0 16 0Z" fill="url(#gradient)"/>
                        <path d="M21 13C21 15.761 18.761 18 16 18C13.239 18 11 15.761 11 13C11 10.239 13.239 8 16 8C18.761 8 21 10.239 21 13Z" fill="white"/>
                        <path d="M23 23C23 21.343 20.314 20 17 20H15C11.686 20 9 21.343 9 23V24H23V23Z" fill="white"/>
                        <defs>
                            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#8B5CF6"/>
                                <stop offset="100%" stop-color="#3B82F6"/>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                <span class="dark-logo-text">CourseFlow</span>
            </a>

            <!-- Поиск -->
            <div class="dark-search-container">
                <form th:action="@{/courses/}" method="get" class="dark-search-form">
                    <div class="dark-search-group">
            <span class="dark-search-icon">
                <svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                </svg>
            </span>
                        <input type="text"
                               class="dark-search-input"
                               name="search"
                               th:value="${param.search != null ? param.search : ''}"
                               placeholder="Найти курсы..."
                               aria-label="Search courses">

                        <!-- Кнопка очистки (показывается только когда есть текст) -->
                        <button type="button"
                                class="dark-search-clear"
                                th:if="${param.search != null and param.search != ''}"
                                onclick="clearSearch()">
                            <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>

                        <!-- Разделитель между очисткой и поиском -->
                        <div class="dark-search-divider" th:if="${param.search != null and param.search != ''}"></div>

                        <!-- Кнопка поиска с круглыми углами -->
                        <button type="submit" class="dark-search-submit">
                            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Профиль пользователя -->
            <div class="dark-user-menu">
                <div class="dark-user-info">
                    <span class="dark-user-name" th:text="${user != null ? user.name : 'Guest'}">User</span>
                    <div class="dark-user-roles">
                        <span th:if="${isTeacher}" class="dark-role-tag teacher">Преподаватель</span>
                        <span th:if="${isStudent}" class="dark-role-tag student">Студент</span>
                        <span th:if="${isAdmin}" class="dark-role-tag admin">Администратор</span>
                    </div>
                </div>
                <a class="dark-button dark-button-secondary dark-profile-btn" th:href="@{/user/profile}">
                    <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                    </svg>
                    Профиль
                </a>
                <a class="dark-nav-link" th:href="@{/logout}">
                    <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd" />
                    </svg>
                </a>
            </div>
        </div>
    </nav>

    <!-- Основной контент -->
    <main class="dark-main-content">
        <div class="dark-content-container">
            <!-- Заголовок и кнопки действий -->
            <div class="dark-page-header">
                <div class="dark-header-content">
                    <h1 class="dark-page-title">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor" class="me-3">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 16.5v-9l6 4.5-6 4.5z"/>
                        </svg>
                        Наши курсы
                    </h1>

                    <!-- Информация о поиске и фильтрах -->
                    <div th:if="${param.search != null or param.category != null or param.teacher != null or param.minPrice != null or param.maxPrice != null}" class="dark-filter-info">
                        <div class="dark-filter-tags">
                            <span th:if="${param.search != null and param.search != ''}" class="dark-filter-tag">
                                Поиск: "<strong th:text="${param.search}"></strong>"
                            </span>
                            <span th:if="${param.category != null and param.category != ''}" class="dark-filter-tag">
                                Категория: <strong th:text="${param.category}"></strong>
                            </span>
                            <span th:if="${param.teacher != null and param.teacher != ''}" class="dark-filter-tag">
                                Преподаватель: <strong th:text="${param.teacher}"></strong>
                            </span>
                            <span th:if="${param.minPrice != null or param.maxPrice != null}" class="dark-filter-tag">
                                Цена:
                                <strong>
                                    <span th:if="${param.minPrice != null}" th:text="${param.minPrice} + 'rub'"></span>
                                    <span th:if="${param.minPrice != null and param.maxPrice != null}"> - </span>
                                    <span th:if="${param.maxPrice != null}" th:text="${param.maxPrice} + 'rub'"></span>
                                </strong>
                            </span>
                        </div>
                        <span class="dark-courses-count">
                            <span th:text="${totalCourses}">0</span> курсов найдено
                        </span>
                        <a th:href="@{/courses/}" class="dark-clear-filters">
                            <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                            Очистить все
                        </a>
                    </div>
                </div>
                <div class="dark-header-actions">
                    <!-- Для ADMIN показываем кнопку статистики -->
                    <a th:if="${isAdmin}" th:href="@{/admin/statistics}" class="dark-button dark-button-secondary">
                        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"/>
                            <path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"/>
                        </svg>
                        Статистика
                    </a>

                    <!-- Для TEACHER (не ADMIN) показываем обычные кнопки -->
                    <a th:if="${isTeacher and not isAdmin}" th:href="@{/courses/new}" class="dark-button">
                        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                        </svg>
                        Создать курс
                    </a>
                    <a th:if="${isTeacher and not isAdmin}" th:href="@{/courses/myCourses}" class="dark-button dark-button-secondary">
                        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" />
                        </svg>
                        Мои курсы
                    </a>

                    <!-- Кнопка "My Enrollments" только для STUDENT -->
                    <a th:if="${isStudent}" th:href="@{/myCourses/all}" class="dark-button dark-button-secondary">
                        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        Мои записи
                    </a>
                </div>
            </div>

            <!-- Компактная панель фильтров -->
            <div class="dark-card dark-filters-compact">
                <form th:action="@{/courses/}" method="get" id="filterForm">
                    <div class="dark-filters-compact-grid">
                        <!-- Поиск (скрытое поле чтобы сохранять поиск при применении фильтров) -->
                        <input type="hidden" name="search" th:value="${param.search != null ? param.search : ''}">

                        <!-- Фильтр по категории -->
                        <div class="dark-filter-compact-group">
                            <div class="dark-filter-compact-header">
                                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                                </svg>
                                <span>Категория</span>
                            </div>
                            <label>
                                <select name="category" class="dark-select-compact" onchange="this.form.submit()">
                                    <option value="">Все категории</option>
                                    <option th:each="cat : ${categories}"
                                            th:value="${cat}"
                                            th:text="${cat}"
                                            th:selected="${param.category == cat}">
                                    </option>
                                </select>
                            </label>
                        </div>

                        <!-- Фильтр по преподавателю -->
                        <div class="dark-filter-compact-group">
                            <div class="dark-filter-compact-header">
                                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                                </svg>
                                <span>Преподаватель</span>
                            </div>
                            <label>
                                <select name="teacher" class="dark-select-compact" onchange="this.form.submit()">
                                    <option value="">Все преподаватели</option>
                                    <option th:each="teacher : ${teachers}"
                                            th:value="${teacher.username}"
                                            th:text="${teacher.username}"
                                            th:selected="${param.teacher == teacher.username}">
                                    </option>
                                </select>
                            </label>
                        </div>

                        <!-- Фильтр по цене -->
                        <div class="dark-filter-compact-group">
                            <div class="dark-filter-compact-header">
                                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"/>
                                    <path fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z" clip-rule="evenodd" />
                                </svg>
                                <span>Цена</span>
                            </div>
                            <div class="dark-price-compact">
                                <label>
                                    <input type="number"
                                           name="minPrice"
                                           class="dark-price-input-compact"
                                           placeholder="Мин."
                                           min="0"
                                           step="0.01"
                                           th:value="${param.minPrice}"
                                           onchange="this.form.submit()">
                                </label>
                                <span class="dark-price-separator">-</span>
                                <label>
                                    <input type="number"
                                           name="maxPrice"
                                           class="dark-price-input-compact"
                                           placeholder="Макс."
                                           min="0"
                                           step="0.01"
                                           th:value="${param.maxPrice}"
                                           onchange="this.form.submit()">
                                </label>
                            </div>
                        </div>

                        <!-- Кнопка сброса -->
                        <div class="dark-filter-compact-actions">
                            <a th:href="@{/courses/}" class="dark-button-compact-reset" th:if="${param.category != null or param.teacher != null or param.minPrice != null or param.maxPrice != null}">
                                <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                                </svg>
                                Очистить
                            </a>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Информация о пагинации -->
            <div th:if="${totalPages > 1}" class="dark-pagination-info">
                <div class="dark-pagination-stats">
                    Показаны <span th:text="${currentPage * 9 - 8}">1</span>-<span th:text="${(currentPage * 9) > totalCourses ? totalCourses : (currentPage * 9)}">9</span> of <span th:text="${totalCourses}">0</span> курсов(а)
                </div>

                <!-- Пагинация -->
                <nav class="dark-pagination">
                    <a class="dark-pagination-btn"
                       th:href="@{/courses/(page=${currentPage - 1}, search=${param.search}, category=${param.category}, teacher=${param.teacher}, minPrice=${param.minPrice}, maxPrice=${param.maxPrice})}"
                       th:classappend="${currentPage == 1} ? 'disabled'">
                        <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                    </a>

                    <div class="dark-pagination-pages">
                        <a th:each="page : ${#numbers.sequence(1, totalPages)}"
                           class="dark-pagination-page"
                           th:href="@{/courses/(page=${page}, search=${param.search}, category=${param.category}, teacher=${param.teacher}, minPrice=${param.minPrice}, maxPrice=${param.maxPrice})}"
                           th:classappend="${page == currentPage} ? 'active'"
                           th:text="${page}">
                        </a>
                    </div>

                    <a class="dark-pagination-btn"
                       th:href="@{/courses/(page=${currentPage + 1}, search=${param.search}, category=${param.category}, teacher=${param.teacher}, minPrice=${param.minPrice}, maxPrice=${param.maxPrice})}"
                       th:classappend="${currentPage == totalPages} ? 'disabled'">
                        <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </nav>
            </div>

            <!-- Уведомления -->
            <div th:if="${param.success}" class="dark-alert dark-alert-success slide-in">
                <div class="dark-alert-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div class="dark-alert-content">
                    Успешно!
                </div>
            </div>

            <!-- Сетка курсов -->
            <div class="dark-courses-grid">
                <div th:each="course : ${courses}" class="dark-course-card slide-in">
                    <div class="dark-course-header">
                        <h3 class="dark-course-title" th:text="${course.title}">Course Title</h3>
                        <div class="dark-course-price" th:classappend="${course.price == null or course.price == 0} ? 'free' : 'paid'">
                            <span th:if="${course.price != null and course.price > 0}">
                                <span th:text="${#numbers.formatDecimal(course.price, 1, 2)}">0.00</span>rub
                            </span>
                            <span th:if="${course.price == null or course.price == 0}">
                                Бесплатно
                            </span>
                        </div>
                    </div>

                    <div class="dark-course-body">
                        <p class="dark-course-description">
                            <span th:if="${course.description != null and course.description != ''}" th:text="${course.description}">Описание курса</span>
                            <span th:if="${course.description == null or course.description == ''}" class="text-muted">Нет описания</span>
                        </p>

                        <div class="dark-course-meta">
                            <div class="dark-meta-item">
                                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                                </svg>
                                <span th:if="${course.teacher != null and course.teacher.username != null}" th:text="${course.teacher.username}">Преподаватель</span>
                                <span th:if="${course.teacher == null or course.teacher.username == null}" class="text-muted">Unknown</span>
                            </div>

                            <div class="dark-meta-item">
                                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                                </svg>
                                <span th:text="${#temporals.format(course.createdAt, 'dd MMM yyyy')}">Date</span>
                            </div>

                            <div class="dark-meta-item">
                                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                                </svg>
                                <span th:if="${course.category != null and course.category != ''}" th:text="${course.category}">Категория</span>
                                <span th:if="${course.category == null or course.category == ''}" class="text-muted">Не указано</span>
                            </div>
                        </div>
                    </div>

                    <div class="dark-course-actions">
                        <!-- Кнопка записи на курс только для STUDENT -->
                        <a th:if="${isStudent}"
                           th:href="@{/myCourses/enroll(courseId=${course.id})}"
                           class="dark-button dark-button-success dark-action-btn">
                            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                            </svg>
                            Enroll
                        </a>

                        <!-- Кнопка "Подробнее" для всех пользователей -->
                        <a th:href="@{/courses/details/{id}(id=${course.id})}"
                           class="dark-button dark-button-secondary dark-action-btn">
                            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                            </svg>
                            Подробнее
                        </a>

                        <!-- Кнопки редактирования и удаления только для ADMIN -->
                        <div th:if="${isAdmin}" class="dark-admin-actions">
                            <a th:href="@{/courses/edit/{id}(id=${course.id})}"
                               class="dark-button dark-button-warning dark-action-btn">
                                <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
                                </svg>
                            </a>
                            <a th:href="@{/courses/delete/{id}(id=${course.id})}"
                               class="dark-button dark-button-error dark-action-btn"
                               onclick="return confirm('Are you sure you want to delete this course?')">
                                <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Сообщение об отсутствии курсов -->
            <div th:if="${courses != null and #lists.isEmpty(courses)}" class="dark-empty-state">
                <div class="dark-empty-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 16.5v-9l6 4.5-6 4.5z"/>
                    </svg>
                </div>
                <h3 class="dark-empty-title" th:if="${param.search != null or param.category != null or param.teacher != null or param.minPrice != null or param.maxPrice != null}">
                    Курсы не найдены
                </h3>
                <h3 class="dark-empty-title" th:if="${param.search == null and param.category == null and param.teacher == null and param.minPrice == null and param.maxPrice == null}">
                    Нет доступных курсов
                </h3>
                <p class="dark-empty-description" th:if="${param.search != null or param.category != null or param.teacher != null or param.minPrice != null or param.maxPrice != null}">
                    Ни один курс не соответствует вашим фильтрам. Попробуйте изменить свои критерии.
                </p>
                <p class="dark-empty-description" th:if="${param.search == null and param.category == null and param.teacher == null and param.minPrice == null and param.maxPrice == null}">
                    Будьте первым, кто создаст курс!
                </p>
                <div class="dark-empty-actions">
                    <a th:if="${isTeacher or isAdmin}" th:href="@{/courses/new}" class="dark-button">Create First Course</a>
                    <a th:if="${param.search != null or param.category != null or param.teacher != null or param.minPrice != null or param.maxPrice != null}"
                       th:href="@{/courses/}" class="dark-button dark-button-secondary">Show All Courses</a>
                </div>
            </div>

            <!-- Пагинация внизу -->
            <div th:if="${totalPages > 1}" class="dark-pagination-bottom">
                <div class="dark-pagination-stats">
                    Страница <span th:text="${currentPage}">1</span> из <span th:text="${totalPages}">1</span>
                </div>
                <nav class="dark-pagination">
                    <a class="dark-pagination-btn"
                       th:href="@{/courses/(page=${currentPage - 1}, search=${param.search}, category=${param.category}, teacher=${param.teacher}, minPrice=${param.minPrice}, maxPrice=${param.maxPrice})}"
                       th:classappend="${currentPage == 1} ? 'disabled'">
                        <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                        пред.
                    </a>
                    <a class="dark-pagination-btn"
                       th:href="@{/courses/(page=${currentPage + 1}, search=${param.search}, category=${param.category}, teacher=${param.teacher}, minPrice=${param.minPrice}, maxPrice=${param.maxPrice})}"
                       th:classappend="${currentPage == totalPages} ? 'disabled'">
                        след.
                        <svg width="14" height="14" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </nav>
            </div>
        </div>
    </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>