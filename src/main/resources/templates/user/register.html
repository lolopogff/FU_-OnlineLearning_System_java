<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register - Course Management System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/base.css}">
  <link rel="stylesheet" th:href="@{/css/auth/register.css}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- JavaScript -->
  <script th:src="@{/js/main.js}" defer></script>
</head>
<body>
<div class="dark-container dark-register-container">
  <!-- Анимированный фон -->
  <div class="animated-background">
    <div class="floating-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
      <div class="shape shape-4"></div>
    </div>
  </div>

  <div class="dark-card dark-register-card slide-in">
    <!-- Заголовок -->
    <div class="dark-header dark-register-header">
      <div class="dark-logo">
<!--        <div class="logo-icon">-->
<!--          <svg width="32" height="32" viewBox="0 0 32 32" fill="none">-->
<!--            <path d="M16 0C7.163 0 0 7.163 0 16C0 24.837 7.163 32 16 32C24.837 32 32 24.837 32 16C32 7.163 24.837 0 16 0Z" fill="url(#gradient)"/>-->
<!--            <path d="M21 13C21 15.761 18.761 18 16 18C13.239 18 11 15.761 11 13C11 10.239 13.239 8 16 8C18.761 8 21 10.239 21 13Z" fill="white"/>-->
<!--            <path d="M23 23C23 21.343 20.314 20 17 20H15C11.686 20 9 21.343 9 23V24H23V23Z" fill="white"/>-->
<!--            <defs>-->
<!--              <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">-->
<!--                <stop offset="0%" stop-color="#8B5CF6"/>-->
<!--                <stop offset="100%" stop-color="#3B82F6"/>-->
<!--              </linearGradient>-->
<!--            </defs>-->
<!--          </svg>-->
<!--        </div>-->
        <span class="dark-logo-text">CourseFlow</span>
      </div>
      <h1 class="dark-title">Присоединяйтесь к нашему сообществу</h1>
      <p class="dark-subtitle">Создайте свою учетную запись, чтобы начать обучение</p>
    </div>

    <!-- Уведомление об ошибке -->
    <div th:if="${error}" class="dark-alert dark-alert-error slide-in">
      <div class="dark-alert-icon">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
        </svg>
      </div>
      <div class="dark-alert-content">
        <strong>Error!</strong> <span th:text="${error}">Error message</span>
      </div>
    </div>

    <!-- Форма регистрации -->
    <form method="post" th:action="@{/auth/register}" th:object="${user}" class="dark-register-form">
      <div class="form-row">
        <div class="dark-form-group slide-in">
          <label for="username" class="dark-form-label">Имя пользователя *</label>
          <div class="dark-input-group">
            <span class="dark-input-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
              </svg>
            </span>
            <input type="text" class="dark-form-control" id="username"
                   name="username" required
                   placeholder="Выберите уникальное имя пользователя"
                   th:field="*{username}">
          </div>
          <div class="dark-form-text">Это будет ваше имя для входа в систему</div>
        </div>

        <div class="dark-form-group slide-in">
          <label for="email" class="dark-form-label">Адрес электронной почты *</label>
          <div class="dark-input-group">
            <span class="dark-input-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
              </svg>
            </span>
            <input type="email" class="dark-form-control" id="email"
                   name="email" required
                   placeholder="your.email@example.com"
                   th:field="*{email}">
          </div>
        </div>
      </div>

      <div class="dark-form-group slide-in">
        <label for="passwordHash" class="dark-form-label">Пароль *</label>
        <div class="dark-input-group">
          <span class="dark-input-icon">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
            </svg>
          </span>
          <input type="password" class="dark-form-control" id="passwordHash"
                 name="passwordHash" required
                 placeholder="Create a strong password"
                 th:field="*{passwordHash}">
        </div>
        <div class="dark-form-text">Используйте не менее 8 символов с сочетанием букв и цифр</div>
      </div>

      <div class="form-row">
        <div class="dark-form-group slide-in">
          <label for="firstName" class="dark-form-label">Имя</label>
          <div class="dark-input-group">
            <span class="dark-input-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
              </svg>
            </span>
            <input type="text" class="dark-form-control" id="firstName"
                   name="firstName"
                   placeholder="Ваше имя"
                   th:field="*{firstName}">
          </div>
        </div>

        <div class="dark-form-group slide-in">
          <label for="lastName" class="dark-form-label">Фамлия</label>
          <div class="dark-input-group">
            <span class="dark-input-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
              </svg>
            </span>
            <input type="text" class="dark-form-control" id="lastName"
                   name="lastName"
                   placeholder="Ваша фамилия"
                   th:field="*{lastName}">
          </div>
        </div>
      </div>

      <!-- Поле для выбора роли -->
      <div class="dark-form-group slide-in">
        <label class="dark-form-label">Role *</label>
        <div class="role-selection">
          <div class="role-option">
            <input type="radio" id="roleStudent" name="role" value="STUDENT" checked th:field="*{role}">
            <label for="roleStudent" class="role-card">
              <div class="role-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
              </div>
              <div class="role-content">
                <div class="role-title">Студент</div>
                <div class="role-description">Запишитесь на курсы и учитесь</div>
              </div>
            </label>
          </div>
          <div class="role-option">
            <input type="radio" id="roleTeacher" name="role" value="TEACHER" th:field="*{role}">
            <label for="roleTeacher" class="role-card">
              <div class="role-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M20 17V9c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zM9 9h6v2H9V9zm0 4h6v2H9v-2z"/>
                </svg>
              </div>
              <div class="role-content">
                <div class="role-title">Преподаватель</div>
                <div class="role-description">Создание курсов и управление ими</div>
              </div>
            </label>
          </div>
        </div>
        <div class="dark-form-text">
          <strong>Студент:</strong> Вы можете записаться на курсы и просмотреть учебные материалы<br>
          <strong>Преподаватель:</strong> Может создавать курсы и управлять ими
        </div>
      </div>

      <button type="submit" class="dark-button dark-register-button slide-in">
        <span class="button-text">Создать аккаунт</span>
        <span class="button-icon">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" />
          </svg>
        </span>
      </button>
    </form>

    <!-- Футер -->
    <div class="dark-register-footer slide-in">
      <p class="dark-footer-text">Уже есть аккаунт?</p>
      <a th:href="@{/auth/login}" class="dark-auth-link">
        <span>Войти</span>
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </a>
    </div>
  </div>
</div>
</body>
</html>